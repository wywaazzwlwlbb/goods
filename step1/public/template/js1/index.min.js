"use strict";var _createClass=function(){function s(t,n){for(var e=0;e<n.length;e++){var s=n[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,e){return n&&s(t.prototype,n),e&&s(t,e),t}}();function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}ajaxGet("data/data.json").then(function(res){json=eval(res);var olist=document.getElementById("list"),ol2=document.getElementById("l2"),ol3=document.getElementById("l3"),ol4=document.getElementById("l4"),ol5=document.getElementById("l5"),ol6=document.getElementById("l6"),ol7=document.getElementById("l7"),ol8=document.getElementById("l8"),ol9=document.getElementById("l9"),ol10=document.getElementById("l10"),ol11=document.getElementById("l11"),ol12=document.getElementById("l12"),ol13=document.getElementById("l13"),ol14=document.getElementById("l14"),ol15=document.getElementById("l15"),ol16=document.getElementById("l16"),ol17=document.getElementById("l17");console.log(olist);for(var str="",i=0;i<4;i++)str+='<li class="l8" id="list">\n\t    \t\t\t\t\t\t<a href="'+json[i].a+'" target="_blank">\n\t    \t\t\t\t\t\t\t<img src="'+json[i].src+'" \n\t    \t\t\t\t\t\t\t\talt="'+json[i].title+'" \n\t    \t\t\t\t\t\t\t\ttitle="'+json[i].title+'"/>\n\t    \t\t\t\t\t\t    <div class="price">\n\t    \t\t\t\t\t\t    \t<span>'+json[i].s1+"</span>\n\t    \t\t\t\t\t\t    \t<s>"+json[i].s2+'</s>\n\t    \t\t\t\t\t\t    </div>\n\t    \t\t\t\t\t\t    <p class="name">'+json[i].name+"</p>\n\t    \t\t\t\t\t\t</a>\n\t    \t\t\t\t\t</li>";for(var str2="",i=4;i<json.length;i++)str2+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name1+'">\n\t                \t\t\t<img src="'+json[i].src1+'"/>\n\t                \t\t    <p class="name">'+json[i].name1+'</p>\n\t                \t\t    <p class="price">'+json[i].price+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str3="",i=4;i<json.length;i++)str3+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name2+'">\n\t                \t\t\t<img src="'+json[i].src2+'"/>\n\t                \t\t    <p class="name">'+json[i].name2+'</p>\n\t                \t\t    <p class="price">'+json[i].price2+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str4="",i=4;i<json.length;i++)str4+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name3+'">\n\t                \t\t\t<img src="'+json[i].src3+'"/>\n\t                \t\t    <p class="name">'+json[i].name3+'</p>\n\t                \t\t    <p class="price">'+json[i].price3+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str5="",i=4;i<json.length;i++)str5+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name4+'">\n\t                \t\t\t<img src="'+json[i].src4+'"/>\n\t                \t\t    <p class="name">'+json[i].name4+'</p>\n\t                \t\t    <p class="price">'+json[i].price4+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str6="",i=4;i<json.length;i++)str6+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name5+'">\n\t                \t\t\t<img src="'+json[i].src5+'"/>\n\t                \t\t    <p class="name">'+json[i].name5+'</p>\n\t                \t\t    <p class="price">'+json[i].price5+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str7="",i=4;i<json.length;i++)str7+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name6+'">\n\t                \t\t\t<img src="'+json[i].src6+'"/>\n\t                \t\t    <p class="name">'+json[i].name6+'</p>\n\t                \t\t    <p class="price">'+json[i].price6+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str8="",i=4;i<json.length;i++)str8+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name7+'">\n\t                \t\t\t<img src="'+json[i].src7+'"/>\n\t                \t\t    <p class="name">'+json[i].name7+'</p>\n\t                \t\t    <p class="price">'+json[i].price7+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str9="",i=4;i<json.length;i++)str9+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name8+'">\n\t                \t\t\t<img src="'+json[i].src8+'"/>\n\t                \t\t    <p class="name">'+json[i].name8+'</p>\n\t                \t\t    <p class="price">'+json[i].price8+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str10="",i=4;i<json.length;i++)str10+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name9+'">\n\t                \t\t\t<img src="'+json[i].src9+'"/>\n\t                \t\t    <p class="name">'+json[i].name9+'</p>\n\t                \t\t    <p class="price">'+json[i].price9+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str11="",i=4;i<json.length;i++)str11+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name10+'">\n\t                \t\t\t<img src="'+json[i].src10+'"/>\n\t                \t\t    <p class="name">'+json[i].name10+'</p>\n\t                \t\t    <p class="price">'+json[i].price10+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str12="",i=4;i<json.length;i++)str12+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name11+'">\n\t                \t\t\t<img src="'+json[i].src11+'"/>\n\t                \t\t    <p class="name">'+json[i].name11+'</p>\n\t                \t\t    <p class="price">'+json[i].price11+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str13="",i=4;i<json.length;i++)str13+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name12+'">\n\t                \t\t\t<img src="'+json[i].src12+'"/>\n\t                \t\t    <p class="name">'+json[i].name12+'</p>\n\t                \t\t    <p class="price">'+json[i].price12+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str14="",i=4;i<json.length;i++)str14+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name13+'">\n\t                \t\t\t<img src="'+json[i].src13+'"/>\n\t                \t\t    <p class="name">'+json[i].name13+'</p>\n\t                \t\t    <p class="price">'+json[i].price13+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str15="",i=4;i<json.length;i++)str15+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name14+'">\n\t                \t\t\t<img src="'+json[i].src14+'"/>\n\t                \t\t    <p class="name">'+json[i].name14+'</p>\n\t                \t\t    <p class="price">'+json[i].price14+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str16="",i=4;i<json.length;i++)str16+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name15+'">\n\t                \t\t\t<img src="'+json[i].src15+'"/>\n\t                \t\t    <p class="name">'+json[i].name15+'</p>\n\t                \t\t    <p class="price">'+json[i].price15+"</p>\n\t                \t\t</a>\n\t                \t</li>";for(var str17="",i=4;i<json.length;i++)str17+='<li class="l10">\n\t                \t\t<a href="" title="'+json[i].name16+'">\n\t                \t\t\t<img src="'+json[i].src16+'"/>\n\t                \t\t    <p class="name">'+json[i].name16+'</p>\n\t                \t\t    <p class="price">'+json[i].price16+"</p>\n\t                \t\t</a>\n\t                \t</li>";olist.innerHTML=str,ol2.innerHTML=str2,ol3.innerHTML=str3,ol4.innerHTML=str4,ol5.innerHTML=str5,ol6.innerHTML=str6,ol7.innerHTML=str7,ol8.innerHTML=str8,ol9.innerHTML=str9,ol10.innerHTML=str10,ol11.innerHTML=str11,ol12.innerHTML=str12,ol13.innerHTML=str13,ol14.innerHTML=str14,ol15.innerHTML=str15,ol16.innerHTML=str16,ol17.innerHTML=str17});var oD1=document.querySelector(".d1"),oS=document.querySelector(".s2");console.log(oS);var oD2=document.querySelector(".d2"),aLi=document.querySelectorAll(".u1 img"),oImg=oD2.children,cont=document.querySelector(".cont");oD1.onmouseover=function(){oD2.style.display="block",oS.style.display="block",oD1.onmousemove=function(t){for(var n=0;n<=4;n++){var e=t||window.event,s=e.offsetX-oS.offsetWidth/2,i=e.offsetY-oS.offsetHeight/2;s<0&&(s=0),i<0&&(i=0),s>oD1.offsetWidth-oS.offsetWidth&&(s=oD1.offsetWidth-oS.offsetWidth),i>oD1.offsetHeight-oS.offsetHeight&&(i=oD1.offsetHeight-oS.offsetHeight);var o=s/(oD1.offsetWidth-oS.offsetWidth),l=i/(oD1.offsetHeight-oS.offsetHeight);oImg[n].style.left=(oD2.offsetWidth-oImg[n].offsetWidth)*o+"px",oImg[n].style.top=(oD2.offsetHeight-oImg[n].offsetHeight)*l+"px",oS.style.left=s+"px",oS.style.top=i+"px"}}},oD1.onmouseout=function(){oD2.style.display="none",oS.style.display="none"};var Details=function(){function n(t){_classCallCheck(this,n),this.cont=t.cont,this.url=t.url,this.load()}return _createClass(n,[{key:"load",value:function(){var n=this;$.ajax({url:this.url,success:function(t){n.res=t,n.getCookie()}})}},{key:"getCookie",value:function(){this.good=JSON.parse($.cookie("good")),console.log(this.good),this.display()}},{key:"display",value:function(){for(var t="",n=0;n<this.res.length;n++)for(var e=0;e<this.good.length;e++)this.good[this.good.length-1].id==this.res[n].goodsId&&(t='<div class="l" index="'+this.res[n].goodsId+'">\n\t\t    \t\t<div class="c-l d1">\n\t\t    \t\t\t<img src="'+this.res[n].src+'"/>\n\t\t    \t\t</div>\n\t\t    \t</div>\n\t    \t    <div class="r">\n\t    \t    \t<div class="r-t">\n\t    \t    \t\t<h1>'+this.res[n].h1+"</h1>\n\t    \t    \t\t<h4>"+this.res[n].h4+'</h4>\n\t    \t    \t</div>\n\t    \t    \t<div class="img">\n\t    \t    \t\t<img src="https://gfs10.gomein.net.cn/T11hZvBvbj1RCvBVdK.png"/>\n\t    \t    \t</div>\n\t    \t    \t<div class="price">\n\t    \t    \t\t<span class="s4">团  购  价</span>\n\t    \t    \t\t<span class="s5"><em>￥</em>'+this.res[n].em+"</span>\n\t    \t    \t\t<del>"+this.res[n].del+'</del>\n\t    \t    \t\t<span class="s6">降价通知</span>\n\t    \t    \t</div>\n\t    \t    \t<div class="main">\n\t    \t    \t\t<div class="m-t">\n\t    \t    \t\t\t<div class="tese">\n\t    \t    \t\t\t\t<p class="p2">特色</p>\n\t    \t    \t\t\t\t<span class="t">\n\t    \t    \t\t\t\t\t<em></em>\n\t    \t    \t\t\t\t\t<b class="b1"></b>\n\t    \t    \t\t\t\t\t<a href="">以旧换新</a>\n\t    \t    \t\t\t\t</span>\n\t    \t    \t\t\t\t<span class="t">\n\t    \t    \t\t\t\t\t<em></em>\n\t    \t    \t\t\t\t\t<b class="b2"></b>\n\t    \t    \t\t\t\t\t<a href="">管家服务</a>\n\t    \t    \t\t\t\t</span>\n\t    \t    \t\t\t\t<span class="t">\n\t    \t    \t\t\t\t\t<em></em>\n\t    \t    \t\t\t\t\t<b class="b3"></b>\n\t    \t    \t\t\t\t\t<a href="">国美智能</a>\n\t    \t    \t\t\t\t</span>\n\t    \t    \t\t\t</div>\n\t    \t    \t\t\t<div class="tese">\n\t    \t    \t\t\t\t<p class="p2">服务</p>\n\t    \t    \t\t\t    <span class="s7">\n\t    \t    \t\t\t    \t由<b>\n\t    \t    \t\t\t    \t\t国美\n\t    \t    \t\t\t    \t</b>\n\t    \t    \t\t\t    \t安排厂商配送并提供保障监管。\n\t    \t    \t\t\t    </span>\n\t    \t    \t\t\t</div>\n\t    \t    \t\t\t<div class="color">\n\t    \t    \t\t\t\t<p class="p2">颜色</p>\n\t    \t    \t\t\t    <span class="s7">\n\t    \t    \t\t\t    \t'+this.res[n].s+'\n\t    \t    \t\t\t    </span>\n\t    \t    \t\t\t</div>\n\t    \t    \t\t</div>\n\t    \t    \t</div>\n\t    \t    \t<div class="car">\n\t    \t    \t\t<a href="car.html" class="a1">加入购物车</a>\n\t    \t    \t\t<a href="" class="a2">\n\t    \t    \t\t\t<b></b>\n\t    \t    \t\t\t手机下单\n\t    \t    \t\t\t<p class="ma">\n\t    \t    \t\t\t\t<img src="https://ss.gome.com.cn/item/v1/qr/verify/9140074074/1130573685/flag/item"/>\n\t    \t    \t\t\t</p>\n\t    \t    \t\t</a>\n\t    \t    \t</div>\n\t    \t    </div>');this.cont.html(t)}}]),n}();function Search(){this.txt=document.querySelector(".txt"),this.ul=document.querySelector(".search-res"),this.url="https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",this.index=-1,this.init()}new Details({cont:$(".cont"),url:"data/details.json"}),Search.prototype.init=function(){var s=this;this.txt.onkeyup=function(t){var n=t||window.event,e=n.keycode||n.which;s.value=this.value,38!=e&&40!=e&&13!=e&&(console.log(1),s.load())},this.txt.onblur=function(){s.ul.innerHTML="",s.index=-1},this.txt.onkeydown=function(t){var n=t||window.event,e=n.keycode||n.which;38==e&&(-1==s.index||0==s.index?s.index=s.ul.children.length-1:s.index--,s.active()),40==e&&(s.index==s.ul.children.length-1?s.index=0:s.index++,s.active()),13==e&&s.txt.blur()}},Search.prototype.load=function(){var n=this;jsonp(this.url,{wd:this.value,cb:"adasd",callbackNameColumns:"cb"}).then(function(t){n.data=t.s,n.display()})},Search.prototype.display=function(){for(var t="",n=0;n<this.data.length;n++)t+='<li abc="'+n+'">'+this.data[n]+"</li>";this.ul.innerHTML=t,this.eveEnt()},Search.prototype.eveEnt=function(){var s=this;this.ul.onmouseover=function(t){var n=t||window.event,e=n.target||n.srcElement;"LI"==e.nodeName&&(s.index=e.getAttribute("abc"),s.active())},this.ul.onmouseout=function(t){var n=t||window.event,e=n.target||n.srcElement;"LI"==e.nodeName&&(e.style.background="")}},Search.prototype.active=function(){for(var t=0;t<this.ul.children.length;t++)this.ul.children[t].style.background="";this.ul.children[this.index].style.background="#f8f8f8",this.txt.value=this.ul.children[this.index].innerHTML},new Search;var Tab=function(){function t(){_classCallCheck(this,t),this.li=$(".l6"),this.l=$(".l9"),this.l10=$(".l10"),this.l11=$(".l11"),this.l12=$(".l12"),this.ul=$(".u8"),this.u9=$(".u9"),this.u10=$(".u10"),this.u11=$(".u11"),this.box=$(".box"),this.d=$(".d"),this.init()}return _createClass(t,[{key:"init",value:function(){var t=this;this.li.on("mouseover",function(){t.li.removeClass("active").eq($(this).index()).addClass("active"),t.box.stop().hide().eq($(this).index()).stop().show()}),this.box.on("mouseout",function(){t.li.removeClass("active"),t.box.stop().hide()}),this.l.on("mouseover",function(){t.l.removeClass("active").eq($(this).index()).addClass("active"),t.ul.stop().hide().eq($(this).index()).stop().show()}),this.l10.on("mouseover",function(){t.l10.removeClass("active").eq($(this).index()).addClass("active"),t.u9.stop().hide().eq($(this).index()).stop().show()}),this.l11.on("mouseover",function(){t.l11.removeClass("active").eq($(this).index()).addClass("active"),t.u10.stop().hide().eq($(this).index()).stop().show()}),this.l12.on("mouseover",function(){t.l12.removeClass("active").eq($(this).index()).addClass("active"),t.u11.stop().hide().eq($(this).index()).stop().show()})}}]),t}();new Tab,$(".cont").banner({items:$(".cont").children(".imgbox").children("img"),left:$(".cont").children(".btns").children("#left"),right:$(".cont").children(".btns").children("#right"),list:$(".cont").children(".list").children("span"),moveTime:1e3,autoPlay:!0,delayTime:3e3}),$("#floor").find("ul").children("li").click(function(){$("html").stop().animate({scrollTop:$(".tel").eq($(this).index()).offset().top})}),ajaxGet("data/active.json").then(function(res){json=eval(res);var olist=document.getElementById("list");console.log(json);for(var str="",i=0;i<json.length;i++)str+='<li class="l1">\n\t    \t        <p class="'+json[i].listId+'">\n\t    \t        </p>\n\t\t    \t\t\t<a href="detail.html" title="'+json[i].title+'" class="title">\n\t\t    \t\t\t\t<img src="'+json[i].src+'" alt="'+json[i].title+'"/>\n\t\t    \t\t\t</a>\n\t\t    \t\t\t<h2>\n\t\t    \t\t\t\t<span>'+json[i].span+'</span>\n\t\t    \t\t\t\t<a href="" title="'+json[i].title+'">'+json[i].name+'</a>\n\t\t    \t\t\t</h2>\n\t\t    \t\t\t<div class="now">\n\t\t    \t\t\t\t<div class="n-l">\n\t\t    \t\t\t\t\t<span>'+json[i].price+"</span>\n\t\t    \t\t\t\t\t<del>"+json[i].del+'</del>\n\t\t    \t\t\t\t</div>\n\t\t    \t\t\t\t<p class="n-r">'+json[i].p+"</p>\n\t\t    \t\t\t</div>\n\t    \t\t</li>";olist.innerHTML=str});var Img=function(){function t(){_classCallCheck(this,t),this.l=$(".l1"),this.d1=$(".d1 img"),this.d2=$(".d2 img"),console.log(this.d2),this.init()}return _createClass(t,[{key:"init",value:function(){var t=this;this.l.on("mouseover",function(){t.l.removeClass("active").eq($(this).index()).addClass("active"),t.d1.stop().hide().eq($(this).index()).stop().show(),t.d2.stop().hide().eq($(this).index()).stop().show()})}}]),t}();new Img;var login=document.querySelector(".login"),regs=document.querySelector(".reg"),out=document.querySelector(".out"),uname=document.querySelector(".uname"),strong=document.querySelector("strong"),car=document.querySelector(".mycar");function Register(t){this.btn=t.btn,this.user=t.user,this.pass=t.pass,this.msg=t.msg,this.url=t.url,this.init()}function countTime(){var t,n,e,s,i=document.querySelector(".cont"),o=(new Date).getTime(),l=new Date("2019-3-2 20:00:00").getTime()-o;0<l?(t=Math.floor(l/1e3/60/60%24),n=Math.floor(l/1e3/60%60),e=Math.floor(l/1e3%60),document.getElementById("_h").innerHTML="距离本场结束&nbsp;&nbsp;"+createZero(t)+"：",document.getElementById("_m").innerHTML=createZero(n)+"：",document.getElementById("_s").innerHTML=createZero(e)):(clearTimeout(s),i.style.display="block"),s=setTimeout(countTime,1e3)}function createZero(t){return t<10?"0"+t:t}""!=getCookie("user")&&(login.innerHTML=getCookie("user"),regs.style.display="none",out.style.display="block",uname.innerHTML=getCookie("user"),strong.innerHTML=getCookie("user")),out.onclick=function(){removeCookie("user","","")},car.onclick=function(){""==getCookie("user")?location.href="login.html":location.href="car.html"},Register.prototype.init=function(){var t=this;this.btn.onclick=function(){t.load()}},Register.prototype.load=function(){var n=this;ajaxPost(this.url,{tel:this.user.value,pass:this.pass.value}).then(function(t){switch(t){case"0":n.msg.style.display="block",n.msg.innerHTML="重名，换一个",setTimeout(function(){n.msg.style.display="none",n.msg.innerHTML=""},3e3);break;case"1":n.msg.style.display="block",n.msg.innerHTML="注册成功，3秒之后调转到登录",setTimeout(function(){location.href="login.html"},3e3);break;case"2":n.msg.style.display="block",n.msg.innerHTML="请输入完整信息",setTimeout(function(){n.msg.style.display="none",n.msg.innerHTML=""},3e3)}},function(t){console.log("前端的ajax请求失败，有可能是网络原因或接口错误，或服务器问题，反正不一定是注册失败")})},new Register({btn:document.getElementById("btn"),user:document.getElementById("user"),pass:document.getElementById("pass"),msg:document.getElementById("msg"),url:"http://www.liyangyf.com/ctrl/register.php"});